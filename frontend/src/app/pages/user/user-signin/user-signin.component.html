<app-user-header></app-user-header>

<form [formGroup]="loginForm" (ngSubmit)="onSubmit()" class="main-content">
  <div class="admin-sign-in">User Log In</div>

  <div class="form-container">

    <!-- Email Field -->
    <div class="field-group">
      <div class="email-field">
        <input type="email" formControlName="email" placeholder="Email" class="email" />
      </div>
      @if (loginForm.get('email')?.touched || loginForm.get('email')?.dirty) {
        @if (loginForm.get('email')?.errors?.['required']) {
          <div class="error">Email is required.</div>
        }
        @if (loginForm.get('email')?.errors?.['email']) {
          <div class="error">Enter a valid email address.</div>
        }
      }
    </div>

    <!-- Password Field -->
    <div class="field-group">
      <div class="password-field">
        <input type="password" formControlName="password" placeholder="Password" class="password" />
      </div>
      @if (loginForm.get('password')?.touched || loginForm.get('password')?.dirty) {
        @if (loginForm.get('password')?.errors?.['required']) {
          <div class="error">Password is required.</div>
        }
        @if (loginForm.get('password')?.errors?.['minlength']) {
          <div class="error">Minimum 8 characters required.</div>
        }
      }
    </div>

    <!-- Forgot Password Link -->
<div class="forgot-password">
  <a routerLink="/user/forgot-password">Forgot Password?</a>
</div>


    <!-- Submit Button -->
    <div class="submit-button">
      <button type="submit" class="sign-in-text" [disabled]="loginForm.invalid">
        Log In
      </button>
      @if (errorMessage) {
        <div class="error">{{ errorMessage }}</div>
      }
    </div>
  </div>

  <!-- Google Login Button -->
  <div class="google-signup">
    <button type="button" class="google-btn" (click)="loginWithGoogle()">
      <img src="https://developers.google.com/identity/images/g-logo.png" alt="Google" class="google-icon" />
      Log in with Google
    </button>
  </div>

  <!-- Signup Link -->
  <div class="login-link">
    Donâ€™t have an account? <a routerLink="/user/signup">Sign Up</a>
  </div>
</form>

<app-user-footer></app-user-footer>