<app-user-header></app-user-header>

<!-- Main content (flex: 1 makes it fill space between header and footer) -->
<div class="user-reviews-wrapper">
  <h2 class="heading">My Reviews</h2>

  <!-- Loading -->
  <div *ngIf="loading" class="loading">
    <span class="spinner"></span> Loading reviews...
  </div>

  <!-- No Reviews -->
  <div *ngIf="!loading && reviews.length === 0" class="no-reviews">
    <p>You havenâ€™t written any reviews yet.</p>
  </div>

  <!-- Reviews List -->
  <div class="reviews-list" *ngIf="!loading && reviews.length > 0">
    <div class="review-card" *ngFor="let review of reviews">
      <div class="review-header">
        <div class="barber-info">
          <div class="barber-name">{{ getBarberName(review.barber) }}</div>
          <div class="rating">
            <span *ngFor="let star of getStars(review.rating)">â˜…</span>
            <span class="empty" *ngFor="let star of getEmptyStars(review.rating)">â˜†</span>
          </div>
        </div>
        <button class="delete-btn" (click)="confirmDelete(review.id)">ðŸ—‘ Delete</button>
      </div>

      <div class="review-body">
        <p>{{ review.reviewText }}</p>
      </div>
    </div>
  </div>

  <!-- Pagination -->
  <div class="pagination-controls" *ngIf="totalPages > 1">
    <button [disabled]="currentPage === 1" (click)="handlePageChange(currentPage - 1)">â€¹ Prev</button>
    <button *ngFor="let page of pages"
            [class.active]="currentPage === page"
            (click)="handlePageChange(page)">
      {{ page }}
    </button>
    <button [disabled]="currentPage === totalPages" (click)="handlePageChange(currentPage + 1)">Next â€º</button>
  </div>
</div>

<!-- Footer always at bottom -->
<app-user-footer></app-user-footer>
